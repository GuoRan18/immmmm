{{$scratch := newScratch}}
{{ range (where .Site.RegularPages "Type" "posts")}}
    {{$scratch.Add "total" .WordCount}}
{{ end }}

{{$totalWord := $scratch.Get "total" }}
{{ $wowWord := div $totalWord 10000}}

<footer class="footer {{ if .IsHome -}}home-footer{{- end -}}">
  <div class="footer__inner">
    <div class="copyright copyright-font">
      <span>共 {{$totalWord }} 字 <br/> <span id="wowBook"></span></span>
    </div>
    <a class="dark-wormhole" href="https://www.foreverblog.cn/go.html" target="_blank"> <img src="/wormhole_1.gif" alt="" style="width:auto;height:32px;" title="穿梭虫洞-随机访问十年之约友链博客"> </a>
    <a class="light-wormhole" href="https://www.foreverblog.cn/go.html" target="_blank" > <img src="/wormhole_3.gif" alt="" style="width:auto;height:32px;" title="穿梭虫洞-随机访问十年之约友链博客"> </a>
      <div class="copyright">
        <span>© {{ now.Year }} Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a> Theme by <a href="https://twitter.com/panr" target="_blank" rel="noopener">Panr</a></span>
      </div>
  </div>
</footer>

<script>
  var wowJSWord = {{ $wowWord }}
const gradeChart = [
  {minpercent: 40, letter: "写完一本我国著名的</br>四大名著了！"},
  {minpercent: 35, letter: "写完一本 东野圭吾 的</br>《白夜行》了！"},
  {minpercent: 34, letter: "写完一本 雨果 的</br>《巴黎圣母院》了！"},
  {minpercent: 20, letter: "写完一本 巴金 的</br>《寒夜》了！"},
  {minpercent: 0,  letter: "还在努力更新中..</br>加油！加油啦！"}
];

const getLetterGrade = (gradeAsPercent) => {
  const grade = gradeChart.find(
    (grade) => gradeAsPercent >= grade.minpercent
  );
  return grade.letter;
};
document.getElementById("wowBook").innerHTML = getLetterGrade(wowJSWord)
</script>

<script type="text/javascript" src="/theme-main-1.js"></script>
<script type="text/javascript" src="/lately.min.js"></script>
<script type="text/javascript" src="/view-image.js"></script>
<script type="text/javascript" src="/theme-lmm.js?v=230824"></script>
<script type="text/javascript" src="/pangu.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    pangu.autoSpacingPage();
  });
</script>

{{ if .IsHome }}
  <script type="text/javascript" src="/theme-lmm-home.js?v=230920"></script> 
{{ end }}
